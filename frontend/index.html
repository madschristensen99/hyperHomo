<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyper Homo - Encrypted Trading Strategies</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="logo">Hyper Homo</div>
        <div class="nav-links">
            <button class="nav-link active" onclick="showPage('landing')">Home</button>
            <button class="nav-link" onclick="showPage('strategies')">Strategies</button>
            <button class="nav-link" onclick="showPage('deploy')">Deploy Strategy</button>
            <button class="nav-link" onclick="showPage('order')">Place Order</button>
            <button class="nav-link" onclick="showPage('account')">Account</button>
        </div>
    </nav>

    <div class="container">
        <!-- Landing Page -->
        <div id="landing" class="page active">
            <div class="hero">
                <h1>Hyper Homo</h1>
                <p>Revolutionary encrypted trading strategies for Hyperliquid perpetuals, powered by cutting-edge Fully Homomorphic Encryption technology. Trade with complete privacy and security while maintaining optimal performance.</p>
            </div>
            
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">üîí</div>
                    <h3>Fully Homomorphic Encryption</h3>
                    <p>Execute complex trading strategies while keeping your data completely encrypted and private. No one can see your trading logic, not even us.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3>Hyperliquid Integration</h3>
                    <p>Seamlessly trade perpetuals on Hyperliquid with lightning-fast execution and minimal slippage for maximum profit potential.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h3>Advanced Strategies</h3>
                    <p>Deploy sophisticated trading algorithms with customizable parameters, risk management, and automated execution.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <h3>TEE Verifiable Attestation</h3>
                    <p>Our Trusted Execution Environment (TEE) provides cryptographic proof that your encrypted operations are executed exactly as intended, without tampering or exposure.</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üìà</div>
                    <h3>Performance Analytics</h3>
                    <p>Track your strategy performance with detailed metrics, backtesting results, and real-time monitoring dashboards.</p>
                </div>
            </div>
        </div>

        <!-- Strategies Page -->
        <div id="strategies" class="page">
            <h2 class="section-title">Available Strategies</h2>
            <p class="section-description">These are the encrypted trading strategies available on the platform. All strategies use Fully Homomorphic Encryption (FHE) to ensure your trading logic remains private.</p>
            
            <div class="strategy-grid">
                <!-- Strategies will be loaded dynamically from the FHE server -->
                <div class="loading">Loading strategies...</div>
            </div>
            
            <div class="action-container">
                <button class="action-btn" onclick="showPage('deploy')">Create New Strategy</button>
            </div>
        </div>

        <!-- Deploy Strategy Page -->
        <div id="deploy" class="page">
            <h2 class="section-title">Deploy New Strategy</h2>
            <p class="section-description">Create a new encrypted trading strategy. Your strategy's parameters will be encrypted using Fully Homomorphic Encryption (FHE) and executed securely within a Trusted Execution Environment (TEE).</p>
            
            <div class="form-container">
                <form id="deployForm">
                    <div class="form-group">
                        <label class="form-label">Strategy Name</label>
                        <input type="text" class="form-input" placeholder="Enter strategy name" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Indicator to Follow</label>
                        <select class="form-select" required>
                            <option value="">Select an indicator</option>
                            <option value="rsi">RSI (Relative Strength Index)</option>
                            <option value="macd">MACD (Moving Average Convergence Divergence)</option>
                            <option value="bb">Bollinger Bands</option>
                            <option value="sma">Simple Moving Average</option>
                            <option value="ema">Exponential Moving Average</option>
                            <option value="stoch">Stochastic Oscillator</option>
                            <option value="cci">Commodity Channel Index</option>
                            <option value="atr">Average True Range</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Trading Bounds</label>
                        <div class="bounds-container">
                            <div>
                                <label class="form-label">Upper Bound</label>
                                <input type="number" class="form-input" placeholder="Upper limit" step="1" min="0" max="255" required>
                                <small class="form-hint">Value between 0-255 (FHE constraint)</small>
                            </div>
                            <div>
                                <label class="form-label">Lower Bound</label>
                                <input type="number" class="form-input" placeholder="Lower limit" step="1" min="0" max="255" required>
                                <small class="form-hint">Value between 0-255 (FHE constraint)</small>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">Deploy Encrypted Strategy</button>
                </form>
            </div>
        </div>

        <!-- Place Encrypted Order Page -->
        <div id="order" class="page">
            <h2 class="section-title">Place Encrypted Order</h2>
            <p class="section-description">Place an encrypted order on Hyperliquid using your FHE-protected strategy. Your order details will remain private and secure throughout the execution process.</p>
            
            <div class="form-container">
                <form id="orderForm">
                    <div class="form-group">
                        <label class="form-label">Trading Pair</label>
                        <select class="form-select" required>
                            <option value="">Select trading pair</option>
                            <option value="BTC-USD">BTC-USD</option>
                            <option value="ETH-USD">ETH-USD</option>
                            <option value="SOL-USD">SOL-USD</option>
                            <option value="AVAX-USD">AVAX-USD</option>
                            <option value="MATIC-USD">MATIC-USD</option>
                            <option value="DOGE-USD">DOGE-USD</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Order Type</label>
                        <select class="form-select" required>
                            <option value="">Select order type</option>
                            <option value="market">Market Order</option>
                            <option value="limit">Limit Order</option>
                            <option value="stop">Stop Order</option>
                            <option value="stop-limit">Stop Limit Order</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Side</label>
                        <select class="form-select" required>
                            <option value="">Select side</option>
                            <option value="buy">Buy (Long)</option>
                            <option value="sell">Sell (Short)</option>
                        </select>
                    </div>
                    
                    <div class="bounds-container">
                        <div class="form-group">
                            <label class="form-label">Quantity</label>
                            <input type="number" class="form-input" placeholder="Amount" step="0.0001" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Price (USD)</label>
                            <input type="number" class="form-input" placeholder="Price" step="0.01">
                            <small class="form-hint">Leave empty for market orders</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Leverage</label>
                        <select class="form-select">
                            <option value="1">1x</option>
                            <option value="2">2x</option>
                            <option value="5">5x</option>
                            <option value="10">10x</option>
                            <option value="20">20x</option>
                            <option value="50">50x</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Strategy Check</label>
                        <div class="strategy-check">
                            <input type="checkbox" id="useStrategy" class="form-checkbox">
                            <label for="useStrategy">Use encrypted strategy to validate this order</label>
                        </div>
                    </div>
                    
                    <button type="submit" class="submit-btn">Place Encrypted Order</button>
                </form>
            </div>
        </div>

        <!-- Account Page -->
        <div id="account" class="page">
            <h2 class="section-title">Account Overview</h2>
            
            <!-- Wallet Not Connected View -->
            <div id="wallet-not-connected" class="wallet-connect-container">
                <div class="wallet-connect-message">
                    <div class="wallet-icon">üëõ</div>
                    <h3>Connect Your Wallet</h3>
                    <p>Connect your Ethereum wallet to access your account information, deploy strategies, and place orders.</p>
                    <button id="connect-wallet-btn" class="connect-wallet-btn">Connect Wallet</button>
                </div>
            </div>
            
            <!-- Wallet Connected View -->
            <div id="wallet-connected" class="account-container" style="display: none;">
                <div class="account-header">
                    <div class="account-address">
                        <span id="wallet-address">0x0000...0000</span>
                        <button id="copy-address-btn" class="copy-btn" title="Copy address">üìã</button>
                        <button id="disconnect-wallet-btn" class="disconnect-btn">Disconnect</button>
                    </div>
                </div>
                
                <div class="account-section">
                    <div class="balance-card">
                        <div id="total-balance" class="balance-amount">--</div>
                        <div>Total Portfolio Value</div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div id="available-balance" class="stat-value available-balance">--</div>
                            <div>Available Balance</div>
                        </div>
                        <div class="stat-card">
                            <div id="in-positions" class="stat-value in-positions">--</div>
                            <div>In Positions</div>
                        </div>
                        <div class="stat-card">
                            <div id="total-pnl" class="stat-value total-pnl">--</div>
                            <div>Total P&L</div>
                        </div>
                    </div>
                </div>
                
                <div class="account-section">
                    <h3 class="section-subtitle">Deposit USDC</h3>
                    <div class="deposit-container">
                        <div class="deposit-info">
                            <div class="deposit-balance">
                                <div class="balance-label">USDC Balance:</div>
                                <div id="usdc-balance" class="balance-value">--</div>
                            </div>
                            <div class="deposit-balance">
                                <div class="balance-label">Deposited USDC:</div>
                                <div id="deposited-usdc" class="balance-value">--</div>
                            </div>
                        </div>
                        
                        <form id="deposit-form" class="deposit-form">
                            <div class="form-group">
                                <label class="form-label">Amount to Deposit (USDC)</label>
                                <input type="number" id="deposit-amount" class="form-input" placeholder="Enter USDC amount" step="0.01" min="0" required>
                            </div>
                            
                            <div class="deposit-actions">
                                <button type="submit" id="deposit-usdc-btn" class="action-btn">Deposit USDC</button>
                            </div>
                            
                            <div id="deposit-status" class="deposit-status"></div>
                        </form>
                    </div>
                </div>
                
                <div class="account-section">
                    <h3 class="section-subtitle">Recent Trades</h3>
                    <table class="trades-table">
                        <thead>
                            <tr>
                                <th>Pair</th>
                                <th>Side</th>
                                <th>Size</th>
                                <th>Price</th>
                                <th>P&L</th>
                                <th>Time</th>
                            </tr>
                        </thead>
                        <tbody id="trades-table-body">
                            <!-- Trades will be loaded dynamically -->
                            <tr class="no-trades-row">
                                <td colspan="6" class="no-data-message">No recent trades found</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    
    <!-- Investment Modal -->
    <div id="investment-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Invest in Strategy</h3>
            <div class="modal-info">
                <p>Strategy: <span id="modal-strategy-name"></span></p>
                <p>Your USDC Balance: <span id="modal-usdc-balance">Loading...</span></p>
            </div>
            <form id="investment-form">
                <div class="form-group">
                    <label class="form-label">Amount to Invest (USDC)</label>
                    <input type="number" id="investment-amount" class="form-input" placeholder="Enter whole number amount" step="1" min="1" required>
                    <small class="form-hint">Please enter whole numbers only (e.g., 1, 5, 10)</small>
                </div>
                <input type="hidden" id="investment-strategy-id" value="">
                <button type="submit" class="action-btn">Confirm Investment</button>
            </form>
            <div id="investment-status" class="deposit-status"></div>
        </div>
    </div>

    <script src="./ethers.min.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
